<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Helper to estimate quantile functions from data for NORTA — quantile_functions_from_data • simdata</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Helper to estimate quantile functions from data for NORTA — quantile_functions_from_data"><meta name="description" content="Helper to estimate quantile functions from data for NORTA"><meta property="og:description" content="Helper to estimate quantile functions from data for NORTA"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">simdata</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Demo.html">simdata: A package for creating simulated datasets</a></li>
    <li><a class="dropdown-item" href="../articles/NORTA_demo.html">simdata: NORTA based simulation designs</a></li>
    <li><a class="dropdown-item" href="../articles/Technical_documentation.html">simdata: Technical documentation</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/matherealize/simdata/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Helper to estimate quantile functions from data for NORTA</h1>
      <small class="dont-index">Source: <a href="https://github.com/matherealize/simdata/blob/main/R/utilities.R" class="external-link"><code>R/utilities.R</code></a></small>
      <div class="d-none name"><code>quantile_functions_from_data.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Helper to estimate quantile functions from data for NORTA</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">quantile_functions_from_data</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  method_density <span class="op">=</span> <span class="st">"linear"</span>,</span>
<span>  n_density <span class="op">=</span> <span class="fl">200</span>,</span>
<span>  method_quantile <span class="op">=</span> <span class="st">"constant"</span>,</span>
<span>  probs_quantile <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0.01</span><span class="op">)</span>,</span>
<span>  n_small <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  use_quantile <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">quantile_function_from_density</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  method_density <span class="op">=</span> <span class="st">"linear"</span>,</span>
<span>  n_density <span class="op">=</span> <span class="fl">200</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">quantile_function_from_quantiles</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  method_quantile <span class="op">=</span> <span class="st">"constant"</span>,</span>
<span>  probs_quantile <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0.01</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A matrix or data.frame for which quantile function should be estimated.</p></dd>


<dt id="arg-method-density">method_density<a class="anchor" aria-label="anchor" href="#arg-method-density"></a></dt>
<dd><p>Interpolation method used for density based quantile functions,
passed to <code><a href="https://rdrr.io/r/stats/approxfun.html" class="external-link">stats::approxfun</a></code>. See Details.</p></dd>


<dt id="arg-n-density">n_density<a class="anchor" aria-label="anchor" href="#arg-n-density"></a></dt>
<dd><p>Number of points at which the density is estimated for density bsed
quantile, functions, passed to <code><a href="https://rdrr.io/r/stats/density.html" class="external-link">stats::density</a></code>.</p></dd>


<dt id="arg-method-quantile">method_quantile<a class="anchor" aria-label="anchor" href="#arg-method-quantile"></a></dt>
<dd><p>Interpolation method used for quantile based quantile functions,
passed to <code><a href="https://rdrr.io/r/stats/approxfun.html" class="external-link">stats::approxfun</a></code>. See Details.</p></dd>


<dt id="arg-probs-quantile">probs_quantile<a class="anchor" aria-label="anchor" href="#arg-probs-quantile"></a></dt>
<dd><p>Specification of quantiles to be estimated from data for quantile based
quantile functions, passed to <code><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">stats::quantile</a></code>.
See Details.</p></dd>


<dt id="arg-n-small">n_small<a class="anchor" aria-label="anchor" href="#arg-n-small"></a></dt>
<dd><p>An integer giving the number of distinct values below which quantile
functions are estimated using <code>quantile_function_from_quantiles()</code> (more
suited for categorical data), rather than <code>quantile_function_from_density()</code>.</p></dd>


<dt id="arg-use-quantile">use_quantile<a class="anchor" aria-label="anchor" href="#arg-use-quantile"></a></dt>
<dd><p>A vector of names indicating columns for which the quantile function
should be estimated using <code>quantile_function_from_quantiles()</code>. Overrides
<code>n_small</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Passed to <code>quantile_function_from_density()</code>.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>Single vector representing variable input to <code>quantile_function_from_density()</code>
or <code>quantile_function_from_quantiles()</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A named list of functions with length <code>ncol(data)</code> giving the quantile
functions of the input data. Each entry is a function returned from
<code><a href="https://rdrr.io/r/stats/approxfun.html" class="external-link">stats::approxfun</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The NORTA approach requires the specification of the marginals by
quantile functions. This helper estimates those given a dataset automatically
and non-parametrically.
There are two ways implemented to estimate quantile functions from data.</p>
<ol><li><p>Estimate the quantile function by interpolating the observed
quantiles from the data. This is most useful for categorical data, when
the interpolation is using a step-function (default). Implemented in
<code>quantile_function_from_quantiles()</code>.</p></li>
<li><p>Estimate the quantile function via the the empirical cumulative
density function derived from the density of the data. Since the density
is only estimated at specific points, any values in between are interpolated
linearly (default, other options are possible). This is most useful for
continuous data. Implemented in <code>quantile_function_from_density()</code>.</p></li>
</ol></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="simdesign_norta.html">simdesign_norta</a></code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Michael Kammer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

