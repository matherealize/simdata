<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Visualize fixed correlation structure as a network — plot_cor_network • simdata</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Visualize fixed correlation structure as a network — plot_cor_network"><meta name="description" content="Useful to visualize e.g. the associations of the initial multivariate
gaussian distribution used by simdesign_mvtnorm."><meta property="og:description" content="Useful to visualize e.g. the associations of the initial multivariate
gaussian distribution used by simdesign_mvtnorm."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">simdata</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Demo.html">simdata: A package for creating simulated datasets</a></li>
    <li><a class="dropdown-item" href="../articles/NORTA_demo.html">simdata: NORTA based simulation designs</a></li>
    <li><a class="dropdown-item" href="../articles/Technical_documentation.html">simdata: Technical documentation</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/matherealize/simdata/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Visualize fixed correlation structure as a network</h1>
      <small class="dont-index">Source: <a href="https://github.com/matherealize/simdata/blob/main/R/visualization_utilities.R" class="external-link"><code>R/visualization_utilities.R</code></a></small>
      <div class="d-none name"><code>plot_cor_network.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Useful to visualize e.g. the associations of the initial multivariate
gaussian distribution used by <code><a href="simdesign_mvtnorm.html">simdesign_mvtnorm</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_cor_network</span><span class="op">(</span><span class="va">obj</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Default S3 method</span></span>
<span><span class="fu">plot_cor_network</span><span class="op">(</span></span>
<span>  <span class="va">obj</span>,</span>
<span>  categorical_indices <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  decimals <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  cor_cutoff <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  vertex_labels <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  vertex_label_prefix <span class="op">=</span> <span class="st">"z"</span>,</span>
<span>  edge_width_function <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="va">x</span> <span class="op">*</span> <span class="fl">10</span>,</span>
<span>  edge_label_function <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">decimals</span><span class="op">)</span>,</span>
<span>  use_edge_weights <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  edge_weight_function <span class="op">=</span> <span class="fu">base</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/r/base/identity.html" class="external-link">identity</a></span>,</span>
<span>  seed <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  return_network <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  vertex.size <span class="op">=</span> <span class="fl">12</span>,</span>
<span>  margin <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  asp <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  vertex.color <span class="op">=</span> <span class="st">"#ececec"</span>,</span>
<span>  vertex.frame.color <span class="op">=</span> <span class="st">"#979797"</span>,</span>
<span>  vertex.label.color <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  edge.color <span class="op">=</span> <span class="st">"ramp"</span>,</span>
<span>  edge.label.color <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  edge.label.cex <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'simdesign_mvtnorm'</span></span>
<span><span class="fu">plot_cor_network</span><span class="op">(</span><span class="va">obj</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-obj">obj<a class="anchor" aria-label="anchor" href="#arg-obj"></a></dt>
<dd><p>Correlation matrix or S3 class object which has a class method available (see below).</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Passed to <code><a href="https://r.igraph.org/reference/plot.igraph.html" class="external-link">igraph::plot</a></code>, with a complete list
of arguments and details given in <code>igraph.plotting</code>.</p></dd>


<dt id="arg-categorical-indices">categorical_indices<a class="anchor" aria-label="anchor" href="#arg-categorical-indices"></a></dt>
<dd><p>Vector of indices of variables which should be drawn as rectangles
(i.e. represent categorical data).</p></dd>


<dt id="arg-decimals">decimals<a class="anchor" aria-label="anchor" href="#arg-decimals"></a></dt>
<dd><p>Number of decimals, used for default labeling of the network edges.</p></dd>


<dt id="arg-cor-cutoff">cor_cutoff<a class="anchor" aria-label="anchor" href="#arg-cor-cutoff"></a></dt>
<dd><p>Threshold of absolute correlation below which nodes are not considered
as connected. Useful to control complexity of drawn network.
Set to NULL to disable.</p></dd>


<dt id="arg-vertex-labels">vertex_labels<a class="anchor" aria-label="anchor" href="#arg-vertex-labels"></a></dt>
<dd><p>Character vector of length <code>nrow(obj)</code> of labels for vertices. If not NULL,
overrides the <code>vertex_label_prefix</code> argument. If set to NA omits all
or some vertex labels.</p></dd>


<dt id="arg-vertex-label-prefix">vertex_label_prefix<a class="anchor" aria-label="anchor" href="#arg-vertex-label-prefix"></a></dt>
<dd><p>String which is added as prefix to node labels.</p></dd>


<dt id="arg-edge-width-function">edge_width_function<a class="anchor" aria-label="anchor" href="#arg-edge-width-function"></a></dt>
<dd><p>Function which takes one vector input (absolute correlation values) and
outputs transformation of this vector (must be &gt;= 0). Defines edge widths.</p></dd>


<dt id="arg-edge-label-function">edge_label_function<a class="anchor" aria-label="anchor" href="#arg-edge-label-function"></a></dt>
<dd><p>Function which takes on vector input (absolute correlation values) and
outputs labels for these values as character vector. Defines edges labels.
If set to NULL, then no edge labels will be displayed.</p></dd>


<dt id="arg-use-edge-weights">use_edge_weights<a class="anchor" aria-label="anchor" href="#arg-use-edge-weights"></a></dt>
<dd><p>Logical, if TRUE then the layout will be influenced by the absolute
correlations (i.e. edge weights) such that highly correlated variables will
be put closer together.
If FALSE, then the layout is independent of the correlation structure.</p></dd>


<dt id="arg-edge-weight-function">edge_weight_function<a class="anchor" aria-label="anchor" href="#arg-edge-weight-function"></a></dt>
<dd><p>Function which takes one vector input (absolute correlation values) and
outputs transformation of this vector (must be &gt;= 0). Defines edge weights.
Only relevant if <code>use_edge_weights</code> is TRUE.</p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p>Set random seed to ensure reproducibility of results. Can be fixed to
obtain same layout but vary edge widths, correlation functions etc. Can
also be used to obtain nicer looking graph layouts.</p></dd>


<dt id="arg-return-network">return_network<a class="anchor" aria-label="anchor" href="#arg-return-network"></a></dt>
<dd><p>If TRUE, the <code>igraph</code> network object is returned and can be plotted by
the user using e.g. the interactive <code><a href="https://r.igraph.org/reference/tkplot.html" class="external-link">igraph::tkplot</a></code>
function.</p></dd>


<dt id="arg-mar">mar<a class="anchor" aria-label="anchor" href="#arg-mar"></a></dt>
<dd><p><code>mar</code> argument to the <code><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></code> function to set
margins of the plot (often required when the axes should be drawn).
A numerical vector of the form c(bottom, left, top, right) which gives the
number of lines of margin to be specified on the four sides of the plot.
The default is c(5, 4, 4, 2) + 0.1. Note that this is not the same argument
as the <code>margin</code> argument for the <code><a href="https://r.igraph.org/reference/plot.igraph.html" class="external-link">igraph::plot.igraph</a></code> function.</p></dd>


<dt id="arg-vertex-size-margin-asp-vertex-frame-color-vertex-label-color-edge-label-color-edge-label-cex">vertex.size, margin, asp, vertex.frame.color, vertex.label.color, edge.label.color, edge.label.cex<a class="anchor" aria-label="anchor" href="#arg-vertex-size-margin-asp-vertex-frame-color-vertex-label-color-edge-label-color-edge-label-cex"></a></dt>
<dd><p>Arguments to <code><a href="https://r.igraph.org/reference/plot.igraph.html" class="external-link">igraph::plot</a></code>, with sensible
defaults for this package's usage.</p></dd>


<dt id="arg-vertex-color">vertex.color<a class="anchor" aria-label="anchor" href="#arg-vertex-color"></a></dt>
<dd><p>Argument passed to <code><a href="https://r.igraph.org/reference/plot.igraph.html" class="external-link">igraph::plot</a></code>. Usually a
character vector with a hex color specification for vertex color.
Alternatively a function that takes as input a data.frame with a column "id"
that gives the column number of the simulated data, and outputs a valid color
specification for the corresponding vertices (i.e. a single character hex
color or a vector of such hex colors of appropriate length).</p></dd>


<dt id="arg-edge-color">edge.color<a class="anchor" aria-label="anchor" href="#arg-edge-color"></a></dt>
<dd><p>Argument passed to <code><a href="https://r.igraph.org/reference/plot.igraph.html" class="external-link">igraph::plot</a></code>. This
package implements some special functionality: if <code>edge.color = "ramp"</code> then
a colorramp from red (-1) via white (0) to blue (1) is mapped to the
correlations and the edges colored accordingly.
If <code>edge.color = "clipped-ramp"</code> then the ramp is restricted to the
correlation values observed, which may be useful if they are low to increase
visibility.
If <code>edge.color = "red-blue"</code> then all edges with positive correlation values
are colored uniformly red, and all edges with negative correlations are
colored uniformly blue. Alternatively, may be a function that takes as
input the edge correlation values and outputs valid color specifications
(i.e. a single hex color or a vector of hex colors of appropriate length).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>If <code>return_network</code> is <code>TRUE</code>, then an <code>igraph</code> network object is returned
that can be plotted by the user using e.g. the interactive
<code><a href="https://r.igraph.org/reference/tkplot.html" class="external-link">igraph::tkplot</a></code> function. Otherwise, the network
object is plotted directly and no output is returned.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>For an explanation of all parameters not listed here, please refer to
<code><a href="https://r.igraph.org/reference/plot.igraph.html" class="external-link">igraph::plot</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="methods-by-class-">Methods (by class)<a class="anchor" aria-label="anchor" href="#methods-by-class-"></a></h2>

<ul><li><p><code>plot_cor_network(default)</code>: Function to be used for correlation matrix.</p></li>
<li><p><code>plot_cor_network(simdesign_mvtnorm)</code>: Function to be used with <code><a href="simdesign_mvtnorm.html">simdesign_mvtnorm</a></code>
S3 class object to visualize initial correlation network of the underlying
multivariate normal distribution.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code>plot_cor_network.simdesign_mvtnorm</code>,
<code><a href="plot_estimated_cor_network.html">plot_estimated_cor_network</a></code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Michael Kammer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

